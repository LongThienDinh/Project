{"ast":null,"code":"import _toConsumableArray from\"/Users/samaryu/Project/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/samaryu/Project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Create(_ref){var values=_ref.values,onSClick=_ref.onSClick;return/*#__PURE__*/_jsx(\"button\",{className:\"box\",onClick:onSClick,children:values});}function Box(_ref2){var next=_ref2.next,boxs=_ref2.boxs,play=_ref2.play;function handle(i){if(calculateMoves(boxs)||boxs[i]){return;}var nextBoxes=boxs.slice();if(next){nextBoxes[i]='X';}else{nextBoxes[i]='O';}play(nextBoxes);}var win=calculateMoves(boxs);var top;if(win){top='Winner: '+win;}else{top='Next player: '+(next?'X':'O');}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"status\",children:top}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[/*#__PURE__*/_jsx(Create,{values:boxs[0],onSClick:function onSClick(){return handle(0);}}),/*#__PURE__*/_jsx(Create,{values:boxs[1],onSClick:function onSClick(){return handle(1);}}),/*#__PURE__*/_jsx(Create,{values:boxs[2],onSClick:function onSClick(){return handle(2);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[/*#__PURE__*/_jsx(Create,{values:boxs[3],onSClick:function onSClick(){return handle(3);}}),/*#__PURE__*/_jsx(Create,{values:boxs[4],onSClick:function onSClick(){return handle(4);}}),/*#__PURE__*/_jsx(Create,{values:boxs[5],onSClick:function onSClick(){return handle(5);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"board-row\",children:[/*#__PURE__*/_jsx(Create,{values:boxs[6],onSClick:function onSClick(){return handle(6);}}),/*#__PURE__*/_jsx(Create,{values:boxs[7],onSClick:function onSClick(){return handle(7);}}),/*#__PURE__*/_jsx(Create,{values:boxs[8],onSClick:function onSClick(){return handle(8);}})]})]});}export default function Board(){var _useState=useState([Array(9).fill(null)]),_useState2=_slicedToArray(_useState,2),past=_useState2[0],setPast=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),current=_useState4[0],setCurrent=_useState4[1];var next=current%2===0;var currentBoxes=past[current];function player(nextBoxes){var nextHistory=[].concat(_toConsumableArray(past.slice(0,current+1)),[nextBoxes]);setPast(nextHistory);setCurrent(nextHistory.length-1);}function jump(nextMoves){setCurrent(nextMoves);}var moves=past.map(function(boxs,move){var descrp;if(move>0){descrp='Go to move #'+move;}else{descrp='Go to game start';}return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return jump(move);},children:descrp})},move);});return/*#__PURE__*/_jsxs(\"div\",{className:\"game\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-board\",children:/*#__PURE__*/_jsx(Box,{next:next,boxs:currentBoxes,play:player})}),/*#__PURE__*/_jsx(\"div\",{className:\"game-info\",children:/*#__PURE__*/_jsx(\"ol\",{children:moves})})]});}function calculateMoves(boxs){var row=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(var i=0;i<row.length;i++){var _row$i=_slicedToArray(row[i],3),a=_row$i[0],b=_row$i[1],c=_row$i[2];if(boxs[a]&&boxs[a]===boxs[b]&&boxs[a]===boxs[c]){return boxs[a];}}return null;}","map":{"version":3,"names":["useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Create","_ref","values","onSClick","className","onClick","children","Box","_ref2","next","boxs","play","handle","i","calculateMoves","nextBoxes","slice","win","top","Board","_useState","Array","fill","_useState2","_slicedToArray","past","setPast","_useState3","_useState4","current","setCurrent","currentBoxes","player","nextHistory","concat","_toConsumableArray","length","jump","nextMoves","moves","map","move","descrp","row","_row$i","a","b","c"],"sources":["/Users/samaryu/Project/src/Game.jsx"],"sourcesContent":["import { useState } from 'react';\n\nfunction Create({ values, onSClick }) \n{\n  return (\n    <button className=\"box\" onClick={onSClick}>\n      {values}\n    </button>\n  );\n}\n\nfunction Box({ next, boxs, play }) \n{\n  function handle(i) \n  {\n    if (calculateMoves(boxs) || boxs[i]) \n    {\n      return;\n    }\n    const nextBoxes = boxs.slice();\n    if (next) \n    {\n      nextBoxes[i] = 'X';\n    } else \n    {\n      nextBoxes[i] = 'O';\n    }\n    play(nextBoxes);\n  }\n\n  const win = calculateMoves(boxs);\n  let top;\n  if (win) \n  {\n    top = 'Winner: ' + win;\n  } else \n  {\n    top = 'Next player: ' + (next ? 'X' : 'O');\n  }\n\n  return (\n    <>\n      <div className=\"status\">{top}</div>\n      <div className=\"board-row\">\n        <Create values={boxs[0]} onSClick={() => handle(0)} />\n        <Create values={boxs[1]} onSClick={() => handle(1)} />\n        <Create values={boxs[2]} onSClick={() => handle(2)} />\n      </div>\n      <div className=\"board-row\">\n        <Create values={boxs[3]} onSClick={() => handle(3)} />\n        <Create values={boxs[4]} onSClick={() => handle(4)} />\n        <Create values={boxs[5]} onSClick={() => handle(5)} />\n      </div>\n      <div className=\"board-row\">\n        <Create values={boxs[6]} onSClick={() => handle(6)} />\n        <Create values={boxs[7]} onSClick={() => handle(7)} />\n        <Create values={boxs[8]} onSClick={() => handle(8)} />\n      </div>\n    </>\n  );\n}\n\nexport default function Board() \n{\n  const [past, setPast] = useState([Array(9).fill(null)]);\n  const [current, setCurrent] = useState(0);\n  const next = current % 2 === 0;\n  const currentBoxes = past[current];\n\n  function player(nextBoxes) \n  {\n    const nextHistory = [...past.slice(0, current + 1), nextBoxes];\n    setPast(nextHistory);\n    setCurrent(nextHistory.length - 1);\n  }\n\n  function jump (nextMoves) \n  {\n    setCurrent(nextMoves);\n  }\n\n  const moves = past.map((boxs, move) => {\n    let descrp;\n    if (move > 0) \n    {\n      descrp = 'Go to move #' + move;\n    } else \n    {\n      descrp = 'Go to game start';\n    }\n    return (\n      <li key={move}>\n        <button onClick={() => jump (move)}>{descrp}</button>\n      </li>\n    );\n  });\n\n  return (\n    <div className=\"game\">\n      <div className=\"game-board\">\n        <Box next={next} boxs={currentBoxes} play={player} />\n      </div>\n      <div className=\"game-info\">\n        <ol>{moves}</ol>\n      </div>\n    </div>\n  );\n}\n\nfunction calculateMoves(boxs) {\n  const row = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < row.length; i++) \n  {\n    const [a, b, c] = row[i];\n    if (boxs[a] && boxs[a] === boxs[b] && boxs[a] === boxs[c]) \n    {\n      return boxs[a];\n    }\n  }\n  return null;\n}\n\n"],"mappings":"gOAAA,OAASA,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEjC,QAAS,CAAAC,MAAMA,CAAAC,IAAA,CACf,IADkB,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAEhC,mBACER,IAAA,WAAQS,SAAS,CAAC,KAAK,CAACC,OAAO,CAAEF,QAAS,CAAAG,QAAA,CACvCJ,MAAM,CACD,CAAC,CAEb,CAEA,QAAS,CAAAK,GAAGA,CAAAC,KAAA,CACZ,IADe,CAAAC,IAAI,CAAAD,KAAA,CAAJC,IAAI,CAAEC,IAAI,CAAAF,KAAA,CAAJE,IAAI,CAAEC,IAAI,CAAAH,KAAA,CAAJG,IAAI,CAE7B,QAAS,CAAAC,MAAMA,CAACC,CAAC,CACjB,CACE,GAAIC,cAAc,CAACJ,IAAI,CAAC,EAAIA,IAAI,CAACG,CAAC,CAAC,CACnC,CACE,OACF,CACA,GAAM,CAAAE,SAAS,CAAGL,IAAI,CAACM,KAAK,CAAC,CAAC,CAC9B,GAAIP,IAAI,CACR,CACEM,SAAS,CAACF,CAAC,CAAC,CAAG,GAAG,CACpB,CAAC,IACD,CACEE,SAAS,CAACF,CAAC,CAAC,CAAG,GAAG,CACpB,CACAF,IAAI,CAACI,SAAS,CAAC,CACjB,CAEA,GAAM,CAAAE,GAAG,CAAGH,cAAc,CAACJ,IAAI,CAAC,CAChC,GAAI,CAAAQ,GAAG,CACP,GAAID,GAAG,CACP,CACEC,GAAG,CAAG,UAAU,CAAGD,GAAG,CACxB,CAAC,IACD,CACEC,GAAG,CAAG,eAAe,EAAIT,IAAI,CAAG,GAAG,CAAG,GAAG,CAAC,CAC5C,CAEA,mBACEZ,KAAA,CAAAE,SAAA,EAAAO,QAAA,eACEX,IAAA,QAAKS,SAAS,CAAC,QAAQ,CAAAE,QAAA,CAAEY,GAAG,CAAM,CAAC,cACnCrB,KAAA,QAAKO,SAAS,CAAC,WAAW,CAAAE,QAAA,eACxBX,IAAA,CAACK,MAAM,EAACE,MAAM,CAAEQ,IAAI,CAAC,CAAC,CAAE,CAACP,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAS,MAAM,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,cACtDjB,IAAA,CAACK,MAAM,EAACE,MAAM,CAAEQ,IAAI,CAAC,CAAC,CAAE,CAACP,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAS,MAAM,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,cACtDjB,IAAA,CAACK,MAAM,EAACE,MAAM,CAAEQ,IAAI,CAAC,CAAC,CAAE,CAACP,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAS,MAAM,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,EACnD,CAAC,cACNf,KAAA,QAAKO,SAAS,CAAC,WAAW,CAAAE,QAAA,eACxBX,IAAA,CAACK,MAAM,EAACE,MAAM,CAAEQ,IAAI,CAAC,CAAC,CAAE,CAACP,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAS,MAAM,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,cACtDjB,IAAA,CAACK,MAAM,EAACE,MAAM,CAAEQ,IAAI,CAAC,CAAC,CAAE,CAACP,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAS,MAAM,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,cACtDjB,IAAA,CAACK,MAAM,EAACE,MAAM,CAAEQ,IAAI,CAAC,CAAC,CAAE,CAACP,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAS,MAAM,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,EACnD,CAAC,cACNf,KAAA,QAAKO,SAAS,CAAC,WAAW,CAAAE,QAAA,eACxBX,IAAA,CAACK,MAAM,EAACE,MAAM,CAAEQ,IAAI,CAAC,CAAC,CAAE,CAACP,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAS,MAAM,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,cACtDjB,IAAA,CAACK,MAAM,EAACE,MAAM,CAAEQ,IAAI,CAAC,CAAC,CAAE,CAACP,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAS,MAAM,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,cACtDjB,IAAA,CAACK,MAAM,EAACE,MAAM,CAAEQ,IAAI,CAAC,CAAC,CAAE,CAACP,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAS,MAAM,CAAC,CAAC,CAAC,EAAC,CAAE,CAAC,EACnD,CAAC,EACN,CAAC,CAEP,CAEA,cAAe,SAAS,CAAAO,KAAKA,CAAA,CAC7B,CACE,IAAAC,SAAA,CAAwB3B,QAAQ,CAAC,CAAC4B,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAAC,UAAA,CAAAC,cAAA,CAAAJ,SAAA,IAAhDK,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAA8BlC,QAAQ,CAAC,CAAC,CAAC,CAAAmC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAlCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,GAAM,CAAAnB,IAAI,CAAGoB,OAAO,CAAG,CAAC,GAAK,CAAC,CAC9B,GAAM,CAAAE,YAAY,CAAGN,IAAI,CAACI,OAAO,CAAC,CAElC,QAAS,CAAAG,MAAMA,CAACjB,SAAS,CACzB,CACE,GAAM,CAAAkB,WAAW,IAAAC,MAAA,CAAAC,kBAAA,CAAOV,IAAI,CAACT,KAAK,CAAC,CAAC,CAAEa,OAAO,CAAG,CAAC,CAAC,GAAEd,SAAS,EAAC,CAC9DW,OAAO,CAACO,WAAW,CAAC,CACpBH,UAAU,CAACG,WAAW,CAACG,MAAM,CAAG,CAAC,CAAC,CACpC,CAEA,QAAS,CAAAC,IAAIA,CAAEC,SAAS,CACxB,CACER,UAAU,CAACQ,SAAS,CAAC,CACvB,CAEA,GAAM,CAAAC,KAAK,CAAGd,IAAI,CAACe,GAAG,CAAC,SAAC9B,IAAI,CAAE+B,IAAI,CAAK,CACrC,GAAI,CAAAC,MAAM,CACV,GAAID,IAAI,CAAG,CAAC,CACZ,CACEC,MAAM,CAAG,cAAc,CAAGD,IAAI,CAChC,CAAC,IACD,CACEC,MAAM,CAAG,kBAAkB,CAC7B,CACA,mBACE/C,IAAA,OAAAW,QAAA,cACEX,IAAA,WAAQU,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAgC,IAAI,CAAEI,IAAI,CAAC,EAAC,CAAAnC,QAAA,CAAEoC,MAAM,CAAS,CAAC,EAD9CD,IAEL,CAAC,CAET,CAAC,CAAC,CAEF,mBACE5C,KAAA,QAAKO,SAAS,CAAC,MAAM,CAAAE,QAAA,eACnBX,IAAA,QAAKS,SAAS,CAAC,YAAY,CAAAE,QAAA,cACzBX,IAAA,CAACY,GAAG,EAACE,IAAI,CAAEA,IAAK,CAACC,IAAI,CAAEqB,YAAa,CAACpB,IAAI,CAAEqB,MAAO,CAAE,CAAC,CAClD,CAAC,cACNrC,IAAA,QAAKS,SAAS,CAAC,WAAW,CAAAE,QAAA,cACxBX,IAAA,OAAAW,QAAA,CAAKiC,KAAK,CAAK,CAAC,CACb,CAAC,EACH,CAAC,CAEV,CAEA,QAAS,CAAAzB,cAAcA,CAACJ,IAAI,CAAE,CAC5B,GAAM,CAAAiC,GAAG,CAAG,CACV,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACT,CAAC,CAAC,CAAE,CAAC,CAAE,CAAC,CAAC,CACV,CACD,IAAK,GAAI,CAAA9B,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAG8B,GAAG,CAACP,MAAM,CAAEvB,CAAC,EAAE,CACnC,CACE,IAAA+B,MAAA,CAAApB,cAAA,CAAkBmB,GAAG,CAAC9B,CAAC,CAAC,IAAjBgC,CAAC,CAAAD,MAAA,IAAEE,CAAC,CAAAF,MAAA,IAAEG,CAAC,CAAAH,MAAA,IACd,GAAIlC,IAAI,CAACmC,CAAC,CAAC,EAAInC,IAAI,CAACmC,CAAC,CAAC,GAAKnC,IAAI,CAACoC,CAAC,CAAC,EAAIpC,IAAI,CAACmC,CAAC,CAAC,GAAKnC,IAAI,CAACqC,CAAC,CAAC,CACzD,CACE,MAAO,CAAArC,IAAI,CAACmC,CAAC,CAAC,CAChB,CACF,CACA,MAAO,KAAI,CACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}